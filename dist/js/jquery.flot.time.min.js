(function(p){function l(d,c){return c*Math.floor(d/c)}function r(d,c,k,n){if("function"==typeof d.strftime)return d.strftime(c);var f=function(a,b){a=""+a;return 1==a.length?""+(null==b?"0":b)+a:a},h=[],q=!1,m=d.getHours(),b=12>m;null==k&&(k="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "));null==n&&(n="Sun Mon Tue Wed Thu Fri Sat".split(" "));var g=12<m?m-12:0==m?12:m;for(var e=0;e<c.length;++e){var a=c.charAt(e);if(q){switch(a){case "a":a=""+n[d.getDay()];break;case "b":a=""+k[d.getMonth()];
break;case "d":a=f(d.getDate());break;case "e":a=f(d.getDate()," ");break;case "h":case "H":a=f(m);break;case "I":a=f(g);break;case "l":a=f(g," ");break;case "m":a=f(d.getMonth()+1);break;case "M":a=f(d.getMinutes());break;case "q":a=""+(Math.floor(d.getMonth()/3)+1);break;case "S":a=f(d.getSeconds());break;case "y":a=f(d.getFullYear()%100);break;case "Y":a=""+d.getFullYear();break;case "p":a=b?"am":"pm";break;case "P":a=b?"AM":"PM";break;case "w":a=""+d.getDay()}h.push(a);q=!1}else"%"==a?q=!0:h.push(a)}return h.join("")}
function v(c){function d(c,d,m,b){c[d]=function(){return m[b].apply(m,arguments)}}var k={date:c};void 0!=c.strftime&&d(k,"strftime",c,"strftime");d(k,"getTime",c,"getTime");d(k,"setTime",c,"setTime");for(var n="Date Day FullYear Hours Milliseconds Minutes Month Seconds".split(" "),f=0;f<n.length;f++)d(k,"get"+n[f],c,"getUTC"+n[f]),d(k,"set"+n[f],c,"setUTC"+n[f]);return k}function t(c,l){if("browser"==l.timezone)return new Date(c);if(l.timezone&&"utc"!=l.timezone&&"undefined"!=typeof timezoneJS&&"undefined"!=
typeof timezoneJS.Date){var d=new timezoneJS.Date;d.setTimezone(l.timezone);d.setTime(c);return d}return v(new Date(c))}var c={second:1E3,minute:6E4,hour:36E5,day:864E5,month:2592E6,quarter:7776E6,year:525949.2*6E4},u=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],w=u.concat([[3,
"month"],[6,"month"],[1,"year"]]),x=u.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);p.plot.plugins.push({init:function(d){d.hooks.processOptions.push(function(d,k){p.each(d.getAxes(),function(d,f){var h=f.options;"time"==h.mode&&(f.tickGenerator=function(d){var m=[],b=t(d.min,h),g=0,e=h.tickSize&&"quarter"===h.tickSize[1]||h.minTickSize&&"quarter"===h.minTickSize[1]?x:w;null!=h.minTickSize&&(g="number"==typeof h.tickSize?h.tickSize:h.minTickSize[0]*c[h.minTickSize[1]]);for(var a=0;a<e.length-1&&
!(d.delta<(e[a][0]*c[e[a][1]]+e[a+1][0]*c[e[a+1][1]])/2&&e[a][0]*c[e[a][1]]>=g);++a);g=e[a][0];e=e[a][1];"year"==e&&(null!=h.minTickSize&&"year"==h.minTickSize[1]?g=Math.floor(h.minTickSize[0]):(a=Math.pow(10,Math.floor(Math.log(d.delta/c.year)/Math.LN10)),g=d.delta/c.year/a,g=(1.5>g?1:3>g?2:7.5>g?5:10)*a),1>g&&(g=1));d.tickSize=h.tickSize||[g,e];a=d.tickSize[0];e=d.tickSize[1];g=a*c[e];"second"==e?b.setSeconds(l(b.getSeconds(),a)):"minute"==e?b.setMinutes(l(b.getMinutes(),a)):"hour"==e?b.setHours(l(b.getHours(),
a)):"month"==e?b.setMonth(l(b.getMonth(),a)):"quarter"==e?b.setMonth(3*l(b.getMonth()/3,a)):"year"==e&&b.setFullYear(l(b.getFullYear(),a));b.setMilliseconds(0);g>=c.minute&&b.setSeconds(0);g>=c.hour&&b.setMinutes(0);g>=c.day&&b.setHours(0);g>=4*c.day&&b.setDate(1);g>=2*c.month&&b.setMonth(l(b.getMonth(),3));g>=2*c.quarter&&b.setMonth(l(b.getMonth(),6));g>=c.year&&b.setMonth(0);var f=0,k=Number.NaN;do{var n=k;k=b.getTime();m.push(k);if("month"==e||"quarter"==e)if(1>a){b.setDate(1);var q=b.getTime();
b.setMonth(b.getMonth()+("quarter"==e?3:1));var p=b.getTime();b.setTime(k+f*c.hour+(p-q)*a);f=b.getHours();b.setHours(0)}else b.setMonth(b.getMonth()+a*("quarter"==e?3:1));else"year"==e?b.setFullYear(b.getFullYear()+a):b.setTime(k+g)}while(k<d.max&&k!=n);return m},f.tickFormatter=function(d,f){var b=t(d,f.options);if(null!=h.timeformat)return r(b,h.timeformat,h.monthNames,h.dayNames);var g=f.options.tickSize&&"quarter"==f.options.tickSize[1]||f.options.minTickSize&&"quarter"==f.options.minTickSize[1],
e=f.tickSize[0]*c[f.tickSize[1]],a=f.max-f.min,k=h.twelveHourClock?" %p":"",l=h.twelveHourClock?"%I":"%H";return r(b,e<c.minute?l+":%M:%S"+k:e<c.day?a<2*c.day?l+":%M"+k:"%b %d "+l+":%M"+k:e<c.month?"%b %d":g&&e<c.quarter||!g&&e<c.year?a<c.year?"%b":"%b %Y":g&&e<c.year?a<c.year?"Q%q":"Q%q %Y":"%Y",h.monthNames,h.dayNames)})})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},name:"time",version:"1.0"});p.plot.formatDate=r})(jQuery);